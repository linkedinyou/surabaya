/**
 *  Surabaya - a replacement http server for the OpenSimulator
 *  Copyright (C) 2012 Akira Sonoda
 *
 *  This program is free software: you can redistribute it and/or modify
 *  it under the terms of the GNU General Public License as published by
 *  the Free Software Foundation, either version 3 of the License, or
 *  (at your option) any later version.
 *
 *  This program is distributed in the hope that it will be useful,
 *  but WITHOUT ANY WARRANTY; without even the implied warranty of
 *  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 *  GNU General Public License for more details.
 *
 *  You should have received a copy of the GNU General Public License
 *  along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 */
package org.openjgrid.datatypes.llsd;

import java.util.UUID;

import javax.xml.stream.XMLStreamException;

import org.junit.Before;
import org.junit.Test;
import org.openjgrid.datatypes.inventory.InventoryCollection;
import org.openjgrid.datatypes.inventory.InventoryException;

/**
 * @author Akria Sonoda
 *
 */
public class InventoryCollectionTest {

	/**
	 * @throws java.lang.Exception
	 */
	@Before
	public void setUp() throws Exception {
	}

	
	@Test
	public void testItemsFromXML() throws XMLStreamException, InventoryException {
		StringBuilder xmldata = new StringBuilder("<?xml version=\"1.0\"?><ServerResponse><FOLDERS type=\"List\" /><ITEMS type=\"List\">");
		xmldata.append("<item_0 type=\"List\"><AssetID>82c0150f-b0a9-41b6-ad6f-209dd63aa701</AssetID><AssetType>24</AssetType><BasePermissions>2147483647</BasePermissions><CreationDate>1355214291</CreationDate><CreatorId>3dcad562-c070-4d58-b735-2f04f790a76c</CreatorId><CreatorData></CreatorData><CurrentPermissions>2147483647</CurrentPermissions><Description></Description><EveryOnePermissions>2147483647</EveryOnePermissions><Flags>0</Flags><Folder>4ba2cf15-8178-293d-fccb-645e7d148d45</Folder><GroupID>00000000-0000-0000-0000-000000000000</GroupID><GroupOwned>False</GroupOwned><GroupPermissions>2147483647</GroupPermissions><ID>0805161e-7d84-4c7b-aebd-42639e2327f4</ID><InvType>6</InvType><Name>pants</Name><NextPermissions>2147483647</NextPermissions><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><SalePrice>0</SalePrice><SaleType>0</SaleType></item_0>");
		xmldata.append("<item_1 type=\"List\"><AssetID>64889d18-9e79-46d2-962c-83fa89dae2df</AssetID><AssetType>24</AssetType><BasePermissions>2147483647</BasePermissions><CreationDate>1355214184</CreationDate><CreatorId>3dcad562-c070-4d58-b735-2f04f790a76c</CreatorId><CreatorData></CreatorData><CurrentPermissions>2147483647</CurrentPermissions><Description></Description><EveryOnePermissions>2147483647</EveryOnePermissions><Flags>0</Flags><Folder>4ba2cf15-8178-293d-fccb-645e7d148d45</Folder><GroupID>00000000-0000-0000-0000-000000000000</GroupID><GroupOwned>False</GroupOwned><GroupPermissions>2147483647</GroupPermissions><ID>0e190184-b994-47b0-8503-3f3cbabb21cd</ID><InvType>6</InvType><Name>Akra Necklace</Name><NextPermissions>2147483647</NextPermissions><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><SalePrice>0</SalePrice><SaleType>0</SaleType></item_1>");
		xmldata.append("<item_2 type=\"List\"><AssetID>c6f1ee03-d19a-4dec-aaea-163d434ac07c</AssetID><AssetType>24</AssetType><BasePermissions>2147483647</BasePermissions><CreationDate>1355214182</CreationDate><CreatorId>3dcad562-c070-4d58-b735-2f04f790a76c</CreatorId><CreatorData></CreatorData><CurrentPermissions>2147483647</CurrentPermissions><Description></Description><EveryOnePermissions>2147483647</EveryOnePermissions><Flags>0</Flags><Folder>4ba2cf15-8178-293d-fccb-645e7d148d45</Folder><GroupID>00000000-0000-0000-0000-000000000000</GroupID><GroupOwned>False</GroupOwned><GroupPermissions>2147483647</GroupPermissions><ID>0e53aba6-17d2-4d40-8dce-1a253f6d7408</ID><InvType>18</InvType><Name>Akira Shape 1</Name><NextPermissions>2147483647</NextPermissions><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><SalePrice>0</SalePrice><SaleType>0</SaleType></item_2>");
		xmldata.append("<item_3 type=\"List\"><AssetID>42bd1e24-bb3f-4d9b-9820-d1033871498a</AssetID><AssetType>24</AssetType><BasePermissions>2147483647</BasePermissions><CreationDate>1355214185</CreationDate><CreatorId>3dcad562-c070-4d58-b735-2f04f790a76c</CreatorId><CreatorData></CreatorData><CurrentPermissions>2147483647</CurrentPermissions><Description></Description><EveryOnePermissions>2147483647</EveryOnePermissions><Flags>0</Flags><Folder>4ba2cf15-8178-293d-fccb-645e7d148d45</Folder><GroupID>00000000-0000-0000-0000-000000000000</GroupID><GroupOwned>False</GroupOwned><GroupPermissions>2147483647</GroupPermissions><ID>3a88cce3-c6a3-4a6d-875c-8e68aa6fc2d0</ID><InvType>6</InvType><Name>RETRODAN: FaceLight v1.3 (Attach to Chin)</Name><NextPermissions>2147483647</NextPermissions><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><SalePrice>0</SalePrice><SaleType>0</SaleType></item_3>");
		xmldata.append("<item_4 type=\"List\"><AssetID>ea78827a-69e4-4bb5-9d68-4bb267ad9498</AssetID><AssetType>24</AssetType><BasePermissions>2147483647</BasePermissions><CreationDate>1355214182</CreationDate><CreatorId>3dcad562-c070-4d58-b735-2f04f790a76c</CreatorId><CreatorData></CreatorData><CurrentPermissions>2147483647</CurrentPermissions><Description></Description><EveryOnePermissions>2147483647</EveryOnePermissions><Flags>0</Flags><Folder>4ba2cf15-8178-293d-fccb-645e7d148d45</Folder><GroupID>00000000-0000-0000-0000-000000000000</GroupID><GroupOwned>False</GroupOwned><GroupPermissions>2147483647</GroupPermissions><ID>43041066-0eff-41a4-be35-fe80830a9415</ID><InvType>18</InvType><Name>Bashira 512 muscle 65 opaq</Name><NextPermissions>2147483647</NextPermissions><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><SalePrice>0</SalePrice><SaleType>0</SaleType></item_4>");
		xmldata.append("<item_5 type=\"List\"><AssetID>6cad4cd6-4c66-4943-add6-a4fbf757c43e</AssetID><AssetType>24</AssetType><BasePermissions>2147483647</BasePermissions><CreationDate>1355216640</CreationDate><CreatorId>3dcad562-c070-4d58-b735-2f04f790a76c</CreatorId><CreatorData></CreatorData><CurrentPermissions>2147483647</CurrentPermissions><Description></Description><EveryOnePermissions>2147483647</EveryOnePermissions><Flags>0</Flags><Folder>4ba2cf15-8178-293d-fccb-645e7d148d45</Folder><GroupID>00000000-0000-0000-0000-000000000000</GroupID><GroupOwned>False</GroupOwned><GroupPermissions>2147483647</GroupPermissions><ID>44c61c61-84fd-4b2f-af99-55db09adb9e4</ID><InvType>6</InvType><Name>Star_Belly Ring-wear me (fuer normale Skins )</Name><NextPermissions>2147483647</NextPermissions><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><SalePrice>0</SalePrice><SaleType>0</SaleType></item_5>");
		xmldata.append("<item_6 type=\"List\"><AssetID>e2d1ea37-9085-4271-ac47-d355f3c5ae23</AssetID><AssetType>24</AssetType><BasePermissions>2147483647</BasePermissions><CreationDate>1355214185</CreationDate><CreatorId>3dcad562-c070-4d58-b735-2f04f790a76c</CreatorId><CreatorData></CreatorData><CurrentPermissions>2147483647</CurrentPermissions><Description></Description><EveryOnePermissions>2147483647</EveryOnePermissions><Flags>0</Flags><Folder>4ba2cf15-8178-293d-fccb-645e7d148d45</Folder><GroupID>00000000-0000-0000-0000-000000000000</GroupID><GroupOwned>False</GroupOwned><GroupPermissions>2147483647</GroupPermissions><ID>44dacadb-6012-462c-b749-c4d4610af3d8</ID><InvType>6</InvType><Name>Mario Headset</Name><NextPermissions>2147483647</NextPermissions><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><SalePrice>0</SalePrice><SaleType>0</SaleType></item_6>");
		xmldata.append("<item_7 type=\"List\"><AssetID>96dd1512-1e10-4377-8f86-0085c9e3028f</AssetID><AssetType>24</AssetType><BasePermissions>2147483647</BasePermissions><CreationDate>1355214250</CreationDate><CreatorId>3dcad562-c070-4d58-b735-2f04f790a76c</CreatorId><CreatorData></CreatorData><CurrentPermissions>2147483647</CurrentPermissions><Description></Description><EveryOnePermissions>2147483647</EveryOnePermissions><Flags>0</Flags><Folder>4ba2cf15-8178-293d-fccb-645e7d148d45</Folder><GroupID>00000000-0000-0000-0000-000000000000</GroupID><GroupOwned>False</GroupOwned><GroupPermissions>2147483647</GroupPermissions><ID>4651b33b-2f50-4957-860a-d5501eb84799</ID><InvType>6</InvType><Name>Camo Sneakers lfoot</Name><NextPermissions>2147483647</NextPermissions><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><SalePrice>0</SalePrice><SaleType>0</SaleType></item_7>");
		xmldata.append("<item_8 type=\"List\"><AssetID>414f2cf9-d95e-4798-996a-1c672a6f93b7</AssetID><AssetType>24</AssetType><BasePermissions>2147483647</BasePermissions><CreationDate>1355214182</CreationDate><CreatorId>3dcad562-c070-4d58-b735-2f04f790a76c</CreatorId><CreatorData></CreatorData><CurrentPermissions>2147483647</CurrentPermissions><Description>@600</Description><EveryOnePermissions>2147483647</EveryOnePermissions><Flags>0</Flags><Folder>4ba2cf15-8178-293d-fccb-645e7d148d45</Folder><GroupID>00000000-0000-0000-0000-000000000000</GroupID><GroupOwned>False</GroupOwned><GroupPermissions>2147483647</GroupPermissions><ID>700cba56-a43c-47a8-88e1-c974f59befaf</ID><InvType>18</InvType><Name>Camo Sneakers</Name><NextPermissions>2147483647</NextPermissions><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><SalePrice>0</SalePrice><SaleType>0</SaleType></item_8>");
		xmldata.append("<item_9 type=\"List\"><AssetID>682098b4-1749-4c85-a11c-08d6a49a73d5</AssetID><AssetType>24</AssetType><BasePermissions>2147483647</BasePermissions><CreationDate>1355214291</CreationDate><CreatorId>3dcad562-c070-4d58-b735-2f04f790a76c</CreatorId><CreatorData></CreatorData><CurrentPermissions>2147483647</CurrentPermissions><Description></Description><EveryOnePermissions>2147483647</EveryOnePermissions><Flags>0</Flags><Folder>4ba2cf15-8178-293d-fccb-645e7d148d45</Folder><GroupID>00000000-0000-0000-0000-000000000000</GroupID><GroupOwned>False</GroupOwned><GroupPermissions>2147483647</GroupPermissions><ID>8383c93b-c63d-481c-b239-4cbbced8c68e</ID><InvType>6</InvType><Name>pants</Name><NextPermissions>2147483647</NextPermissions><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><SalePrice>0</SalePrice><SaleType>0</SaleType></item_9>");
		xmldata.append("<item_10 type=\"List\"><AssetID>afc9c18d-710f-49e9-b0fe-fe9724992a24</AssetID><AssetType>24</AssetType><BasePermissions>2147483647</BasePermissions><CreationDate>1355214185</CreationDate><CreatorId>3dcad562-c070-4d58-b735-2f04f790a76c</CreatorId><CreatorData></CreatorData><CurrentPermissions>2147483647</CurrentPermissions><Description></Description><EveryOnePermissions>2147483647</EveryOnePermissions><Flags>0</Flags><Folder>4ba2cf15-8178-293d-fccb-645e7d148d45</Folder><GroupID>00000000-0000-0000-0000-000000000000</GroupID><GroupOwned>False</GroupOwned><GroupPermissions>2147483647</GroupPermissions><ID>9e393408-12a4-48c0-b387-9a4a372d805a</ID><InvType>6</InvType><Name>Kin-Naoki-Black</Name><NextPermissions>2147483647</NextPermissions><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><SalePrice>0</SalePrice><SaleType>0</SaleType></item_10>");
		xmldata.append("<item_11 type=\"List\"><AssetID>c686a65f-9d6f-4de5-830e-69a1b11da89c</AssetID><AssetType>24</AssetType><BasePermissions>2147483647</BasePermissions><CreationDate>1355220861</CreationDate><CreatorId>3dcad562-c070-4d58-b735-2f04f790a76c</CreatorId><CreatorData></CreatorData><CurrentPermissions>2147483647</CurrentPermissions><Description>@500</Description><EveryOnePermissions>2147483647</EveryOnePermissions><Flags>0</Flags><Folder>4ba2cf15-8178-293d-fccb-645e7d148d45</Folder><GroupID>00000000-0000-0000-0000-000000000000</GroupID><GroupOwned>False</GroupOwned><GroupPermissions>2147483647</GroupPermissions><ID>b2745bfc-55f7-4095-b5eb-c6e39000c4c6</ID><InvType>18</InvType><Name>pants_w_underpants</Name><NextPermissions>2147483647</NextPermissions><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><SalePrice>0</SalePrice><SaleType>0</SaleType></item_11>");
		xmldata.append("<item_12 type=\"List\"><AssetID>84406ee2-b0c6-43a0-be27-b3e76bfdfbeb</AssetID><AssetType>24</AssetType><BasePermissions>2147483647</BasePermissions><CreationDate>1355214250</CreationDate><CreatorId>3dcad562-c070-4d58-b735-2f04f790a76c</CreatorId><CreatorData></CreatorData><CurrentPermissions>2147483647</CurrentPermissions><Description></Description><EveryOnePermissions>2147483647</EveryOnePermissions><Flags>0</Flags><Folder>4ba2cf15-8178-293d-fccb-645e7d148d45</Folder><GroupID>00000000-0000-0000-0000-000000000000</GroupID><GroupOwned>False</GroupOwned><GroupPermissions>2147483647</GroupPermissions><ID>d090c7dd-6119-4523-9e5b-28c81f2f7ddf</ID><InvType>6</InvType><Name>Camo Sneakers rfoot</Name><NextPermissions>2147483647</NextPermissions><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><SalePrice>0</SalePrice><SaleType>0</SaleType></item_12>");
		xmldata.append("<item_13 type=\"List\"><AssetID>bdc37207-2786-401d-b820-4b8f51b946f1</AssetID><AssetType>24</AssetType><BasePermissions>2147483647</BasePermissions><CreationDate>1355214291</CreationDate><CreatorId>3dcad562-c070-4d58-b735-2f04f790a76c</CreatorId><CreatorData></CreatorData><CurrentPermissions>2147483647</CurrentPermissions><Description></Description><EveryOnePermissions>2147483647</EveryOnePermissions><Flags>0</Flags><Folder>4ba2cf15-8178-293d-fccb-645e7d148d45</Folder><GroupID>00000000-0000-0000-0000-000000000000</GroupID><GroupOwned>False</GroupOwned><GroupPermissions>2147483647</GroupPermissions><ID>d218fb58-0229-4975-bb9c-3a11d8c6adea</ID><InvType>6</InvType><Name>pants</Name><NextPermissions>2147483647</NextPermissions><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><SalePrice>0</SalePrice><SaleType>0</SaleType></item_13>");
		xmldata.append("<item_14 type=\"List\"><AssetID>6b300e31-9900-4971-91b6-af37704f2bd8</AssetID><AssetType>24</AssetType><BasePermissions>2147483647</BasePermissions><CreationDate>1355214182</CreationDate><CreatorId>3dcad562-c070-4d58-b735-2f04f790a76c</CreatorId><CreatorData></CreatorData><CurrentPermissions>2147483647</CurrentPermissions><Description>Created by SI (06.11.2010 17:25)</Description><EveryOnePermissions>2147483647</EveryOnePermissions><Flags>0</Flags><Folder>4ba2cf15-8178-293d-fccb-645e7d148d45</Folder><GroupID>00000000-0000-0000-0000-000000000000</GroupID><GroupOwned>False</GroupOwned><GroupPermissions>2147483647</GroupPermissions><ID>d2d54927-b962-401a-ab5f-5b61ce0eab4a</ID><InvType>18</InvType><Name>Fanta Chau hair</Name><NextPermissions>2147483647</NextPermissions><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><SalePrice>0</SalePrice><SaleType>0</SaleType></item_14>");
		xmldata.append("<item_15 type=\"List\"><AssetID>b06f1451-a5be-4d63-a406-b8616c57d9b9</AssetID><AssetType>24</AssetType><BasePermissions>2147483647</BasePermissions><CreationDate>1355214189</CreationDate><CreatorId>3dcad562-c070-4d58-b735-2f04f790a76c</CreatorId><CreatorData></CreatorData><CurrentPermissions>2147483647</CurrentPermissions><Description></Description><EveryOnePermissions>2147483647</EveryOnePermissions><Flags>0</Flags><Folder>4ba2cf15-8178-293d-fccb-645e7d148d45</Folder><GroupID>00000000-0000-0000-0000-000000000000</GroupID><GroupOwned>False</GroupOwned><GroupPermissions>2147483647</GroupPermissions><ID>d46d193b-71fe-49b8-abfe-f006c06ccd7c</ID><InvType>6</InvType><Name>Female AO Cute</Name><NextPermissions>2147483647</NextPermissions><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><SalePrice>0</SalePrice><SaleType>0</SaleType></item_15>");
		xmldata.append("<item_16 type=\"List\"><AssetID>ca112a2b-a0ba-4d0a-bb0c-05c37a2c9c21</AssetID><AssetType>24</AssetType><BasePermissions>2147483647</BasePermissions><CreationDate>1355214185</CreationDate><CreatorId>3dcad562-c070-4d58-b735-2f04f790a76c</CreatorId><CreatorData></CreatorData><CurrentPermissions>2147483647</CurrentPermissions><Description></Description><EveryOnePermissions>2147483647</EveryOnePermissions><Flags>0</Flags><Folder>4ba2cf15-8178-293d-fccb-645e7d148d45</Folder><GroupID>00000000-0000-0000-0000-000000000000</GroupID><GroupOwned>False</GroupOwned><GroupPermissions>2147483647</GroupPermissions><ID>e0c98604-402c-4a50-8395-dd784b85ba59</ID><InvType>6</InvType><Name>Glasses Old Style Aki Mod</Name><NextPermissions>2147483647</NextPermissions><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><SalePrice>0</SalePrice><SaleType>0</SaleType></item_16>");
		xmldata.append("<item_17 type=\"List\"><AssetID>606933ed-cb82-48ce-8421-d4168dba2250</AssetID><AssetType>24</AssetType><BasePermissions>2147483647</BasePermissions><CreationDate>1355214182</CreationDate><CreatorId>3dcad562-c070-4d58-b735-2f04f790a76c</CreatorId><CreatorData></CreatorData><CurrentPermissions>2147483647</CurrentPermissions><Description></Description><EveryOnePermissions>2147483647</EveryOnePermissions><Flags>0</Flags><Folder>4ba2cf15-8178-293d-fccb-645e7d148d45</Folder><GroupID>00000000-0000-0000-0000-000000000000</GroupID><GroupOwned>False</GroupOwned><GroupPermissions>2147483647</GroupPermissions><ID>e9a14a44-1201-4bbb-80a5-b264b40ee82d</ID><InvType>18</InvType><Name>aki</Name><NextPermissions>2147483647</NextPermissions><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><SalePrice>0</SalePrice><SaleType>0</SaleType></item_17>");
		xmldata.append("<item_18 type=\"List\"><AssetID>42293c89-43cd-4ed5-8174-67f0b28198b5</AssetID><AssetType>24</AssetType><BasePermissions>2147483647</BasePermissions><CreationDate>1355214291</CreationDate><CreatorId>3dcad562-c070-4d58-b735-2f04f790a76c</CreatorId><CreatorData></CreatorData><CurrentPermissions>2147483647</CurrentPermissions><Description></Description><EveryOnePermissions>2147483647</EveryOnePermissions><Flags>0</Flags><Folder>4ba2cf15-8178-293d-fccb-645e7d148d45</Folder><GroupID>00000000-0000-0000-0000-000000000000</GroupID><GroupOwned>False</GroupOwned><GroupPermissions>2147483647</GroupPermissions><ID>ec82f03b-ef47-49d9-8e98-c615d41e260f</ID><InvType>6</InvType><Name>pants</Name><NextPermissions>2147483647</NextPermissions><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><SalePrice>0</SalePrice><SaleType>0</SaleType></item_18>");
		xmldata.append("</ITEMS></ServerResponse>");
		InventoryCollection collection = new InventoryCollection();
		collection.fromXml(xmldata.toString());
		assert (collection.itemList.size() == 19);
		assert (collection.itemList.get(18).getAssetId().equals(UUID.fromString("42293c89-43cd-4ed5-8174-67f0b28198b5")));
	}

	@Test
	public void testFoldersFromXML() throws XMLStreamException, InventoryException {
		StringBuilder xmldata = new StringBuilder("<?xml version=\"1.0\"?><ServerResponse><FOLDERS type=\"List\"><folder_0 type=\"List\"><ParentID>10a7b798-806e-4418-9816-eb75ad3ae9f7</ParentID><Type>20</Type><Version>1</Version><Name>Animations</Name><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><ID>0a2a9d1e-9b33-439c-a771-42e472291450</ID></folder_0><folder_1 type=\"List\"><ParentID>10a7b798-806e-4418-9816-eb75ad3ae9f7</ParentID><Type>5</Type><Version>9</Version><Name>Clothing</Name><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><ID>12025c7f-84bb-4e66-99d9-5f22251313a4</ID></folder_1><folder_2 type=\"List\"><ParentID>10a7b798-806e-4418-9816-eb75ad3ae9f7</ParentID><Type>15</Type><Version>1</Version><Name>Photo Album</Name><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><ID>1dc92ed4-f30c-442a-9fee-0b6fdc62d631</ID></folder_2><folder_3 type=\"List\"><ParentID>10a7b798-806e-4418-9816-eb75ad3ae9f7</ParentID><Type>2</Type><Version>1</Version><Name>Calling Cards</Name><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><ID>2a31586d-f7a3-41db-a40f-1bb3677e867c</ID></folder_3><folder_4 type=\"List\"><ParentID>10a7b798-806e-4418-9816-eb75ad3ae9f7</ParentID><Type>21</Type><Version>1</Version><Name>Gestures</Name><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><ID>33da2b67-763e-4b3f-8d6f-151e609a1486</ID></folder_4><folder_5 type=\"List\"><ParentID>10a7b798-806e-4418-9816-eb75ad3ae9f7</ParentID><Type>-1</Type><Version>2</Version><Name>#Firestorm</Name><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><ID>39b7ddfe-c796-6fc1-dd57-4ea57cce5f9f</ID></folder_5><folder_6 type=\"List\"><ParentID>10a7b798-806e-4418-9816-eb75ad3ae9f7</ParentID><Type>10</Type><Version>1</Version><Name>Scripts</Name><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><ID>4095f330-2d32-455b-b3e1-287461ddeba3</ID></folder_6><folder_7 type=\"List\"><ParentID>10a7b798-806e-4418-9816-eb75ad3ae9f7</ParentID><Type>13</Type><Version>5</Version><Name>Body Parts</Name><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><ID>432ca0b1-f0be-4191-b504-1aa8f873141e</ID></folder_7><folder_8 type=\"List\"><ParentID>10a7b798-806e-4418-9816-eb75ad3ae9f7</ParentID><Type>46</Type><Version>32</Version><Name>Current Outfit</Name><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><ID>4ba2cf15-8178-293d-fccb-645e7d148d45</ID></folder_8><folder_9 type=\"List\"><ParentID>10a7b798-806e-4418-9816-eb75ad3ae9f7</ParentID><Type>7</Type><Version>1</Version><Name>Notecards</Name><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><ID>4d246b2d-c6ed-400d-9916-22433731ac4f</ID></folder_9><folder_10 type=\"List\"><ParentID>10a7b798-806e-4418-9816-eb75ad3ae9f7</ParentID><Type>16</Type><Version>1</Version><Name>Lost And Found</Name><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><ID>8c61e33f-f705-4ad7-88dc-8bc6f1dc1023</ID></folder_10><folder_11 type=\"List\"><ParentID>10a7b798-806e-4418-9816-eb75ad3ae9f7</ParentID><Type>6</Type><Version>1</Version><Name>Objects</Name><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><ID>9406d1c4-e84d-462c-b11f-a0c258b51894</ID></folder_11><folder_12 type=\"List\"><ParentID>10a7b798-806e-4418-9816-eb75ad3ae9f7</ParentID><Type>0</Type><Version>1</Version><Name>Textures</Name><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><ID>bf6639d8-290d-4b2e-8b55-2c1a0b94dee2</ID></folder_12><folder_13 type=\"List\"><ParentID>10a7b798-806e-4418-9816-eb75ad3ae9f7</ParentID><Type>3</Type><Version>1</Version><Name>Landmarks</Name><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><ID>e9d0ae43-6a93-446c-a971-9a7ab279ccf7</ID></folder_13><folder_14 type=\"List\"><ParentID>10a7b798-806e-4418-9816-eb75ad3ae9f7</ParentID><Type>14</Type><Version>14</Version><Name>Trash</Name><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><ID>eb36f92f-de13-450c-b8a1-905a5708accb</ID></folder_14><folder_15 type=\"List\"><ParentID>10a7b798-806e-4418-9816-eb75ad3ae9f7</ParentID><Type>1</Type><Version>1</Version><Name>Sounds</Name><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><ID>efa4405b-457d-4269-8488-6607c1c72280</ID></folder_15><folder_16 type=\"List\"><ParentID>10a7b798-806e-4418-9816-eb75ad3ae9f7</ParentID><Type>23</Type><Version>1</Version><Name>Favorites</Name><Owner>3dcad562-c070-4d58-b735-2f04f790a76c</Owner><ID>ff1fa739-374a-037f-ddac-07c5d4631088</ID></folder_16></FOLDERS><ITEMS type=\"List\" /></ServerResponse>");
		InventoryCollection collection = new InventoryCollection();
		collection.fromXml(xmldata.toString());
	}

	@Test
	public void testEmptyXML() throws XMLStreamException, InventoryException {
		String xmldata = "<?xml version=\"1.0\"?><ServerResponse />";
		InventoryCollection collection = new InventoryCollection();
		collection.fromXml(xmldata.toString());
	}
	

}
